<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <title>Firebase app</title>
</head>

<body>
    <div>
        <button type="button" onclick="saveBook">Enrergistrer le livre</button>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need

        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js'

        // Add Firebase products that you want to use
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyA0aDeE3VRa7x7UsoCfPCj4H8AFGzOb0pI",
            authDomain: "test1-d0da2.firebaseapp.com",
            projectId: "test1-d0da2",
            storageBucket: "test1-d0da2.firebasestorage.app",
            messagingSenderId: "132059408217",
            appId: "1:132059408217:web:50c7f389c51b7b8d5a0e48"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        // Get references to the Firebase services
        const db = getFirestore(app);

        async function saveBook() {
            await addDoc(collection(db, "books"), {
                title: "La trilogie new-yorkaise",
                author: "Paul Auster",
                //                creationDate: serverTimestamp(),
            });
        }

    </script>

</body>

</html>